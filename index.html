<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Manikandapuram Sree Dharmasastha Kshethram</title>
    
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Playfair+Display:wght@600;800&family=Poppins:wght@300;400;600&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css">
    
    <style>
        /* --- CSS VARIABLES --- */
        :root {
            --primary: #d35400;      /* Deep Saffron */
            --gold: #b78628;         /* Temple Gold */
            --dark: #1a1a1a;
            --cream: #fdfbf7;        /* Soft Background */
            --white: #ffffff;
            --whatsapp: #25d366;     /* WhatsApp Green */
            --glass: rgba(255, 255, 255, 0.95);
            --shadow: 0 10px 30px rgba(0,0,0,0.08);
        }

        * { box-sizing: border-box; margin: 0; padding: 0; }
        html { scroll-behavior: smooth; }
        
        body {
            font-family: 'Poppins', sans-serif;
            background-color: var(--cream);
            color: var(--dark);
            line-height: 1.7;
        }

        h1, h2, h3, .logo { font-family: 'Playfair Display', serif; }

        /* --- HEADER & NAV --- */
        header {
            background: var(--glass);
            backdrop-filter: blur(10px);
            position: sticky; top: 0; z-index: 1000;
            box-shadow: 0 2px 15px rgba(0,0,0,0.05);
        }
        nav {
            max-width: 1200px; margin: 0 auto; padding: 1rem 1.5rem;
            display: flex; justify-content: space-between; align-items: center;
        }
        .logo { font-size: 1.5rem; font-weight: 800; color: var(--primary); text-decoration: none; }
        .nav-links { list-style: none; display: flex; gap: 30px; }
        .nav-links a { text-decoration: none; color: var(--dark); font-weight: 500; transition: 0.3s; }
        .nav-links a:hover { color: var(--primary); }
        .menu-toggle { display: none; font-size: 1.5rem; cursor: pointer; }

        /* --- FLOATING WHATSAPP BUTTON --- */
        .float-wa {
            position: fixed; bottom: 30px; right: 30px;
            width: 60px; height: 60px;
            background-color: var(--whatsapp); color: white;
            border-radius: 50%; text-align: center; font-size: 30px;
            box-shadow: 2px 2px 10px rgba(0,0,0,0.3); z-index: 9999;
            display: flex; align-items: center; justify-content: center;
            text-decoration: none; transition: transform 0.3s;
        }
        .float-wa:hover { transform: scale(1.1); }

        /* --- HERO --- */
        .hero {
            position: relative; height: 75vh;
            background: linear-gradient(to bottom, rgba(0,0,0,0.3), rgba(0,0,0,0.7)), url('images/banner.jpg');
            background-size: cover; background-position: center;
            display: flex; align-items: center; justify-content: center;
            text-align: center; color: white; padding: 20px;
        }
        .hero h1 { font-size: clamp(2.5rem, 6vw, 4.5rem); margin-bottom: 10px; text-shadow: 2px 2px 10px rgba(0,0,0,0.8); }
        .hero-btn {
            background: linear-gradient(45deg, var(--primary), #e67e22);
            color: white; padding: 15px 40px; text-decoration: none;
            border-radius: 50px; font-weight: 600; display: inline-flex; align-items: center; gap: 10px;
            box-shadow: 0 5px 15px rgba(211, 84, 0, 0.4); transition: transform 0.3s;
        }
        .hero-btn:hover { transform: translateY(-3px); }

        /* --- TIMING BAR --- */
        .timing-bar {
            background: var(--dark); color: white; padding: 15px;
            text-align: center; font-size: 0.9rem; display: flex;
            justify-content: center; align-items: center; gap: 15px; flex-wrap: wrap;
        }
        .status-badge { padding: 4px 12px; border-radius: 4px; font-weight: bold; font-size: 0.8rem; text-transform: uppercase; }
        .open { background-color: var(--whatsapp); color: white; }
        .closed { background-color: #c0392b; color: white; }

        /* --- SECTIONS --- */
        section { padding: 80px 20px; max-width: 1200px; margin: 0 auto; }
        .section-header { text-align: center; margin-bottom: 60px; }
        .section-header h2 { font-size: 2.5rem; color: var(--primary); margin-bottom: 15px; }
        .section-header .divider { height: 3px; width: 80px; background: var(--gold); margin: 0 auto; }

        /* --- DEITIES GRID --- */
        .deity-grid { display: grid; grid-template-columns: repeat(auto-fit, minmax(260px, 1fr)); gap: 30px; }
        .deity-card {
            background: var(--white); border-radius: 16px; overflow: hidden;
            box-shadow: var(--shadow); text-align: center; border-bottom: 4px solid var(--gold);
        }
        .deity-img { height: 280px; width: 100%; object-fit: cover; }
        .deity-info { padding: 25px; }

        /* --- CHECKBOX LIST STYLE --- */
        .booking-box {
            max-width: 600px; margin: 0 auto; background: white;
            padding: 40px; border-radius: 20px; box-shadow: var(--shadow);
        }
        input[type="text"], select {
            width: 100%; padding: 15px; margin-bottom: 20px;
            border: 1px solid #ddd; border-radius: 10px; outline: none;
        }
        
        /* Modern Checkbox Container */
        .checkbox-group {
            display: flex; flex-direction: column; gap: 10px; margin-bottom: 25px;
        }
        .checkbox-item {
            display: flex; justify-content: space-between; align-items: center;
            padding: 12px 15px; border: 1px solid #eee; border-radius: 8px; cursor: pointer;
            transition: background 0.2s;
        }
        .checkbox-item:hover { background-color: #f9f9f9; }
        .checkbox-item input { width: 20px; height: 20px; margin: 0; cursor: pointer; accent-color: var(--primary); }
        .price-tag { font-weight: bold; color: var(--primary); }

        .whatsapp-btn {
            width: 100%; padding: 15px; background: linear-gradient(45deg, var(--primary), #e67e22);
            color: white; border: none; border-radius: 10px; font-size: 1.1rem;
            font-weight: bold; cursor: pointer; display: flex; align-items: center;
            justify-content: center; gap: 10px; transition: transform 0.3s;
            box-shadow: 0 5px 15px rgba(211, 84, 0, 0.3);
        }
        .whatsapp-btn:hover { transform: translateY(-2px); }

        /* --- FOOTER & MOBILE --- */
        footer { background: var(--dark); color: #aaa; text-align: center; padding: 40px 20px; margin-top: 50px; }
        @media (max-width: 768px) {
            .nav-links {
                position: fixed; right: -100%; top: 70px; height: 100vh;
                background: var(--white); flex-direction: column; width: 80%;
                padding: 40px; transition: 0.3s; box-shadow: -5px 0 15px rgba(0,0,0,0.1);
            }
            .nav-links.active { right: 0; }
            .menu-toggle { display: block; }
        }
        
        /* Contact Section */
        .contact-wrapper { display: grid; grid-template-columns: 1fr 1fr; gap: 40px; background: var(--white); padding: 40px; border-radius: 20px; box-shadow: var(--shadow); }
        iframe { width: 100%; height: 100%; min-height: 350px; border-radius: 12px; border: none; }
        @media (max-width: 768px) { .contact-wrapper { grid-template-columns: 1fr; } }
    </style>
</head>
<body>

    <a href="#" onclick="openGeneralChat()" class="float-wa"><i class="fab fa-whatsapp"></i></a>

    <div class="timing-bar">
        <span><i class="far fa-clock"></i> Â  Sat: 5:30-9:30 AM & 5:30-8:00 PM | Muppattu 1st</span>
        <span id="templeStatus" class="status-badge closed">Checking...</span>
    </div>

    <header>
        <nav>
            <a href="#" class="logo">Manikandapuram</a>
            <div class="menu-toggle" onclick="toggleMenu()"><i class="fas fa-bars"></i></div>
            <ul class="nav-links" id="navLinks">
                <li><a href="#" onclick="toggleMenu()">Home</a></li>
                <li><a href="#deities" onclick="toggleMenu()">Deities</a></li>
                <li><a href="#booking" onclick="toggleMenu()">Vazhipadu</a></li>
                <li><a href="#location" onclick="toggleMenu()">Location</a></li>
            </ul>
        </nav>
    </header>

    <section class="hero">
        <div>
            <h1>Sree Dharmasastha Kshethram</h1>
            <p>Panapuzha, Kannur</p>
            <a href="#booking" class="hero-btn"><i class="fab fa-whatsapp"></i> Book Vazhipadu</a>
        </div>
    </section>

    <section id="deities">
        <div class="section-header">
            <h2>Our Deities</h2><div class="divider"></div>
        </div>
        <div class="deity-grid" id="deity-container"></div>
    </section>

    <section id="booking" style="background-color: #fdfbf7;">
        <div class="section-header">
            <h2>Book Vazhipadu Online</h2>
            <p>Select multiple offerings. Total amount will be calculated automatically.</p>
        </div>
        
        <div class="booking-box">
            <label style="font-weight:600; display:block; margin-bottom:8px;">Devotee Name</label>
            <input type="text" id="devName" placeholder="Enter Name">
            
            <label style="font-weight:600; display:block; margin-bottom:8px;">Star (Nakshatram)</label>
            <select id="devStar">
                <option value="">Select Star</option>
                </select>

            <label style="font-weight:600; display:block; margin-bottom:15px;">Select Offerings</label>
            
            <div class="checkbox-group">
                <label class="checkbox-item">
                    <span>Pushpanjali</span>
                    <span><span class="price-tag">â‚¹10</span> <input type="checkbox" value="Pushpanjali" data-price="10"></span>
                </label>
                
                <label class="checkbox-item">
                    <span>Ganapathi Homam</span>
                    <span><span class="price-tag">â‚¹75</span> <input type="checkbox" value="Ganapathi Homam" data-price="75"></span>
                </label>

                <label class="checkbox-item">
                    <span>Bhagavathi Seva</span>
                    <span><span class="price-tag">â‚¹100</span> <input type="checkbox" value="Bhagavathi Seva" data-price="100"></span>
                </label>

                <label class="checkbox-item">
                    <span>Neyyabhishekam</span>
                    <span><span class="price-tag">â‚¹100</span> <input type="checkbox" value="Neyyabhishekam" data-price="100"></span>
                </label>

                <label class="checkbox-item">
                    <span>Muthappan Vellattam</span>
                    <span><span class="price-tag">â‚¹10,000</span> <input type="checkbox" value="Muthappan Vellattam" data-price="10000"></span>
                </label>
            </div>

            <button onclick="sendBooking()" class="whatsapp-btn">
                <i class="fab fa-whatsapp" style="font-size:1.3rem;"></i> Book Now
            </button>
        </div>
    </section>

    <section id="location">
        <div class="section-header"><h2>Visit Us</h2><div class="divider"></div></div>
        <div class="contact-wrapper">
            <div class="info-side">
                <h3><i class="fas fa-map-marker-alt" style="color:var(--primary)"></i> Address</h3>
                <p>Manikandapuram Sree Dharmasastha Kshethram<br>Anatty Rd, Panapuzha, Kannur - 670306</p>
                <br>
                <h3><i class="far fa-clock" style="color:var(--primary)"></i> Timings</h3>
                <p><strong>Every Saturday:</strong><br>5:30 AM - 9:30 AM<br>5:30 PM - 8:00 PM</p>
            </div>
            <div class="map-side"><iframe src="https://www.google.com/maps/embed?pb=!1m18!1m12!1m3!1d3901.889393164168!2d75.3400!3d12.0500!2m3!1f0!2f0!3f0!3m2!1i1024!2i768!4f13.1!3m3!1m2!1s0x3ba46d1c0b0b0b0b%3A0x0!2sPanapuzha!5e0!3m2!1sen!2sin!4v1620000000000!5m2!1sen!2sin" loading="lazy"></iframe></div>
        </div>
    </section>

    <footer><p>Â© 2026 Manikandapuram Kshethram | Swamiye Saranam Ayyappa</p></footer>

    <script>
        // CONFIG
        const templeNumber = "919656277945"; 

        // DEITIES
        const deities = [
            { name: "Sree Dharmasastha", role: "Presiding Deity", desc: "The supreme guardian, son of Hari and Hara.", img: "images/ayyappa.png" },
            { name: "Lord Ganesha", role: "Vighnaharta", desc: "The remover of obstacles.", img: "images/ganesha.png" },
            { name: "Sree Muthappan", role: "The Hunter God", desc: "A powerful manifestation of Lord Shiva.", img: "images/muthappan.png" },
            { name: "Devi", role: "Divine Mother", desc: "The embodiment of power (Shakti).", img: "images/devi.png" }
        ];

        const container = document.getElementById('deity-container');
        deities.forEach(god => {
            container.innerHTML += `
                <div class="deity-card">
                    <img src="${god.img}" alt="${god.name}" class="deity-img" onerror="this.src='https://placehold.co/400x300?text=${god.name}'">
                    <div class="deity-info">
                        <h3>${god.name}</h3>
                        <p style="color:var(--gold); font-weight:600; text-transform:uppercase; font-size:0.8rem;">${god.role}</p>
                        <p>${god.desc}</p>
                    </div>
                </div>`;
        });

        // STARS
        const stars = ["Aswathy (Ashwini)", "Bharani", "Karthika", "Rohini", "Makayiram", "Thiruvathira", "Punartham", "Pooyam", "Ayilyam", "Makam", "Pooram", "Uthram", "Atham", "Chithira", "Chothi", "Vishakham", "Anizham", "Thrikketta", "Moolam", "Pooradam", "Uthradam", "Thiruvonam", "Avittam", "Chathayam", "Poororuttathi", "Uthrattathi", "Revathi"];
        const starSelect = document.getElementById('devStar');
        stars.forEach(s => { let o = document.createElement("option"); o.text = s; o.value = s; starSelect.add(o); });

        // BOOKING LOGIC (UPDATED FOR MULTIPLE SELECTIONS)
        function sendBooking() {
            let name = document.getElementById('devName').value;
            let star = document.getElementById('devStar').value;
            
            // 1. Get all Checkboxes
            let checkboxes = document.querySelectorAll('.checkbox-group input[type="checkbox"]:checked');
            
            if(!name || !star || checkboxes.length === 0) {
                alert("Please enter Name, Star, and select at least one Offering.");
                return;
            }

            // 2. Calculate Total & Build List
            let selectedItems = [];
            let totalAmount = 0;

            checkboxes.forEach((box) => {
                let price = parseInt(box.getAttribute('data-price'));
                totalAmount += price;
                selectedItems.push(`${box.value} (â‚¹${price})`);
            });

            // 3. Create Message
            let itemsString = selectedItems.join('%0AðŸ¥¥ '); // Join with new line + coconut icon

            let msg = `*Swamiye Saranam Ayyappa*%0A%0A` +
                      `*New Vazhipadu Booking*%0A` +
                      `-----------------------------%0A` +
                      `ðŸ‘¤ *Name:* ${name}%0A` +
                      `âœ¨ *Star:* ${star}%0A` +
                      `-----------------------------%0A` +
                      `*Offerings Selected:*%0AðŸ¥¥ ${itemsString}%0A` +
                      `-----------------------------%0A` +
                      `ðŸ’° *TOTAL TO PAY: â‚¹${totalAmount}*%0A` +
                      `-----------------------------%0A` +
                      `Please confirm receipt.`;

            window.open(`https://wa.me/${templeNumber}?text=${msg}`, '_blank');
        }

        function openGeneralChat() { window.open(`https://wa.me/${templeNumber}?text=Swamiye Saranam Ayyappa.`, '_blank'); }
        function toggleMenu() { document.getElementById('navLinks').classList.toggle('active'); }
        
        // STATUS LOGIC
        function checkStatus() {
            const now = new Date();
            const day = now.getDay(); 
            const hour = now.getHours() + (now.getMinutes()/60);
            let isOpen = false;
            if (day === 6) { if ((hour >= 5.5 && hour <= 9.5) || (hour >= 17.5 && hour <= 20)) isOpen = true; }
            
            const badge = document.getElementById('templeStatus');
            if(isOpen) { badge.innerText = "Open Now"; badge.className = "status-badge open"; }
            else { badge.innerText = "Closed Now"; badge.className = "status-badge closed"; }
        }
        checkStatus();
    </script>
</body>
</html>